Scoring service  431


  public void sendDecision(UmicoDecisionStatus umicoDecisionStatus, UUID trackId, String dvsUrl) {
        var operationEntity = operationRepository.findById(trackId)
                .orElseThrow(() -> new OperationNotFoundException("trackId - " + trackId));
        operationEntity.setUmicoDecisionStatus(umicoDecisionStatus);
        UmicoDecisionRequest umicoScoringDecisionRequest = UmicoDecisionRequest.builder()
                .trackId(trackId)
                .dvsUrl(dvsUrl)
                .decisionStatus(umicoDecisionStatus)
                .loanTerm(operationEntity.getLoanTerm())
                .build();
        log.info("Umico send decision.trackId - {}, Request - {}",
                trackId,
                umicoScoringDecisionRequest);
        try {
//            UmicoDecisionResponse umicoScoringDecisionResponse = umicoClient
//                    .sendDecisionToUmico(umicoScoringDecisionRequest, apiKey);
            log.info("Umico send decision was finished successfully.trackId - {}",
                    trackId
                    //,                    umicoScoringDecisionResponse
            );
        } catch (UmicoClientException e) {
            log.error("Umico send decision was finished unsuccessfully. trackId - {}, FeignException - {}",
                    trackId,
                    e.getMessage());
        }
    }